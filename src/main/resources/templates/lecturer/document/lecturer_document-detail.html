<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Lecturer | Details Course</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" th:href="@{/assets/dist/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/assets/fontawesome-6.4.2/css/all.css}"/>

    <link rel="stylesheet" th:href="@{/css/base.css}"/>
    <link rel="stylesheet" th:href="@{/css/fragment.css}"/>
    <link rel="stylesheet" th:href="@{/css/styles/lecturer.css}"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.1.81/pdf.min.js" integrity="sha512-RV+l/3iMDTmIt64ztJmriqLRZl2IwGHcG+655gFxUa20Uq9GljEsY3wibq5BZkGzRlMbYFHUPelVQvWvZxP38w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body class="app_container">
<!-- Header -->
<div class="row" th:replace="~{fragments/header::headerLecturerSection}"></div>
<div class="main_content">
    <div class="container-content-wrapper">
        <!--  Main-->
        <div class="container-content">
            <div class="main-content stu_course-saved">
                <div class="stu_course-saved-content d-flex">
                    <div class="stu_sidebar">
                        <div th:replace="~{fragments/sidebar:: lecturerSidebar('my-courses-management')}"></div>
                    </div>

                    <div class="stu_course-content main" id="main">
                        <div style="width: 100%">
                            <div class="document-details-info border-bottom">
                                <div style="flex: 3">
                                    <div class="doc-info-name h2" style="margin-bottom: 4px">
                                        <i class="fa-solid fa-file"></i>
                                        <a class="doc-info-name" th:text="${document.getTitle()}"></a></div>
                                    <div style="display: flex; width: 100%">
                                        <span style="flex: 1">Type: <span class="lecturer-name"
                                                                          th:text="${document.resourceType.resourceTypeName}"></span></span>
                                    </div>
                                    <div><p id="content" class="doc-info-description"
                                            style="text-align: justify; margin-bottom: 0; margin-top: 1rem" th:text="${document.description}"></p>
                                        <span id="readMoreBtn" style="display: none;" class="read-more" onclick="toggleContent()">Read more</span></div>
                                </div>

                                <div class="stu_save-course-link" style="flex: 1;">

                                </div>
                            </div>
                            <div class="student__course-document-view">


                                <div style="display: flex">
                                    <th:block th:if="${document.docType.toString().equals('UNKNOWN')}">
                                        <div class="doc-content-view" th:utext="${document.editorContent}"
                                             style="height: 500px; flex: 3; padding: 1rem; border: 2px solid gray; overflow: auto">
                                        </div>
                                    </th:block>
<!--                                    <th:block th:if="${document.docType.toString().equals('TXT')}">-->
<!--                                        <embed th:attr="src=@{'data:text/plain;base64,' + ${data}}" type="text/plain" width="100%" height="600px">-->
<!--                                    </th:block>-->
                                    <th:block th:if="${document.docType.toString().equals('PDF')}">
                                        <embed class="doc-content-view" th:attr="src='data:application/pdf;base64,' + ${data}" type="application/pdf" width="100%" height="600px">
                                    </th:block>
                                </div>


                                <div class="stu__navbar-view-doc">
                                    <ul class="stu__navbar-view-doc-list border-bottom">
                                        <li class="stu__navbar-view-doc-item stu__navbar-active">
                                            <a th:href="@{/student/my_library/saved_courses}">
                                                Question & Answer
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Footer -->
<div class="row" th:replace="~{fragments/footer :: footerSection}"></div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script
        src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="/js/lecturer.js"></script>
<script>
    var content = document.getElementById("content");
    var button = document.getElementById("readMoreBtn");

    function toggleContent() {

        if (content.classList.contains("doc-info-description")) {
            content.classList.remove("doc-info-description");
            content.classList.add("full-content");
            button.textContent = "Read less";
        } else {
            content.classList.remove("full-content");
            content.classList.add("doc-info-description");
            button.textContent = "Read more";
        }
    }
</script>
</body>

</html>